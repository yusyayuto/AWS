実行例

影響確認（DRY RUN）: TEST- で始まるアラームのみ

aws lambda invoke \
  --function-name cw-alarm-threshold-tester \
  --payload '{"action":"update","name_prefix":"TEST-","dry_run":true}' \
  out.json && cat out.json


本適用（プレフィックス指定）

aws lambda invoke \
  --function-name cw-alarm-threshold-tester \
  --payload '{"action":"update","name_prefix":"TEST-"}' \
  out.json && cat out.json


ロールバック（同じプレフィックス）

aws lambda invoke \
  --function-name cw-alarm-threshold-tester \
  --payload '{"action":"rollback","name_prefix":"TEST-"}' \
  out.json && cat out.json


コンソールで実行する場合

Lambda → 関数 →「テスト」→ テストイベント JSON に そのまま 記載:

{ "action": "update", "name_prefix": "TEST-", "dry_run": true }
